<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Museum of Me </title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,400;0,600;0,700;1,400;1,600&family=IBM+Plex+Sans:ital,wght@0,100..700;1,100..700&display=swap"
        rel="stylesheet">
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/4.0.0/model-viewer.min.js"></script>
</head>
<script>
    // Hide all audio controls initially and wire up click handlers
    window.addEventListener('DOMContentLoaded', () => {
      const containers = document.querySelectorAll('.grid-column-2');
  
      function showImagesFor(container) {
        const btn  = container.querySelector('.play-button');
        const bar  = container.querySelector('.color-bar');
        const aud  = container.querySelector('.audio-player');
        if (btn) btn.style.display = '';
        if (bar) bar.style.display = '';
        if (aud) aud.style.display = 'none';
      }
  
      function showAudioFor(container) {
        const btn  = container.querySelector('.play-button');
        const bar  = container.querySelector('.color-bar');
        const aud  = container.querySelector('.audio-player');
        if (btn) btn.style.display = 'none';
        if (bar) bar.style.display = 'none';
        if (aud) aud.style.display = 'block';
      }
  
      // Stop any other audios when one starts
      function stopOthers(currentAudio) {
        document.querySelectorAll('.audio-player').forEach(a => {
          if (a !== currentAudio && !a.paused) {
            a.pause();
            a.currentTime = 0;
            const c = a.closest('.grid-column-2');
            if (c) showImagesFor(c);
          }
        });
      }
  
      containers.forEach(container => {
        const btn = container.querySelector('.play-button');
        const bar = container.querySelector('.color-bar');
        const aud = container.querySelector('.audio-player');
  
        if (!aud) return;
  
        // initial state: audio hidden, images shown
        aud.style.display = 'none';
        aud.preload = 'none';
  
        // click either the play image or the bar to start
        [btn, bar].forEach(el => {
          if (!el) return;
          el.style.cursor = 'pointer';
          el.addEventListener('click', () => {
            showAudioFor(container);
            stopOthers(aud);
            aud.play();
          });
        });
  
        // when paused or ended, go back to images
        aud.addEventListener('pause',  () => showImagesFor(container));
        aud.addEventListener('ended',  () => showImagesFor(container));
      });
    });
  </script>
  
<body>
    <header>
        <a class="logo" href="index.html">
            <span class="logo-sm">Museum <br>of</span>
            <span class="logo-lg">ME</span>
        </a>
        <nav>
            <ul class="primary-nav">

                <li><a href="current.html">Current stats</a></li>
                <li><a href="archive.html">Archive</a></li>
                <li><a href="logs.html">Logs</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <section class="purple">
            <div class="wrapper">
                <h2>Frequently Use Items</h2>
                <div class="grid-half">
                    <div>
                        <model-viewer at="slippers" src="assets/slippers.glb" camera-controls
                            auto-rotate></model-viewer>
                    </div>
                    <div>
                        <p>Soft, worn, and reliable â€” these slippers have followed me through quiet mornings and long
                            study nights.</p>
                        <a class="bttn" href="https://google.com">google</a>
                    </div>
                </div>

            </div>
        </section>

        <section class="yellow">
            <div class="wrapper">

                <h2>People I See</h2>
                <div class="grid-column-6">
                    <div> <img src="image/people1.png" alt="people1">
                        <p>Anna</p>
                    </div>
                    <div> <img src="image/people2.png" alt="people2">
                        <p>aaaaaa</p>
                    </div>
                    <div> <img src="image/people3.png" alt="people3">
                        <p>lsdkfdslkkf</p>
                    </div>
                    <div> <img src="image/people4.png" alt="people4">
                        <p>sdgsd</p>
                    </div>
                    <div>
                        <img src="image/people5.png" alt="people5">
                        <p>asdasd</p>
                    </div>
                    <div>
                        <img src="image/people6.png" alt="people6">
                        <p>asdasd</p>
                    </div>
                </div>


            </div>
        </section>
        <section class="pink">
            <div class="wrapper">

                <h2>Places I Am</h2>
            </div>

            <iframe src="https://www.google.ca/maps/d/embed?mid=1ebGQDDM2b9Cl4JL3u2l0kkgJoP_Bul0&ehbc=2E312F"
                width="640" height="480"></iframe>
        </section>
        <section class="blue">
            <div class="wrapper">

                <h2>Things I hear</h2><br><br><br>
                <div class="grid-row-3">
                    <div class="grid-column-2">
                        <div>
                            <img src="image/player.png" class="play-button" alt="play">
                        </div>
                        <div>
                            <img src="image/pink.png" class="color-bar" alt="pink">
                        </div>

                        <!-- hidden at start; will show when you click the image -->
                        <audio class="audio-player" src="/assets/cat_meow.mp3" controls></audio>
                    </div>

                    <div class="grid-column-2">
                        <div>
                            <img src="image/player.png" class="play-button" alt="play">
                        </div>
                        <div>
                            <img src="image/green.png" class="color-bar" alt="green">
                        </div>

                        <!-- hidden at start; will show when you click the image -->
                        <audio class="audio-player" src="/assets/cat_meow.mp3" controls></audio>
                    </div>
                    <div class="grid-column-2">
                        <div>
                            <img src="image/player.png" class="play-button" alt="play">
                        </div>
                        <div>
                            <img src="image/yellow.png" class="color-bar" alt="yellow">
                        </div>

                        <!-- hidden at start; will show when you click the image -->
                        <audio class="audio-player" src="/assets/cat_meow.mp3" controls></audio>
                    </div>
                </div>
        </section>

    </main>
    <footer>
        <p>&copy; Museum of Me</p>
    </footer>

</body>

</html>